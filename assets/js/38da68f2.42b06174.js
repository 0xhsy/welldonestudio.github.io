"use strict";(self.webpackChunkwelldone_docs=self.webpackChunkwelldone_docs||[]).push([[2540],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return h}});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,s=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(t),h=o,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||s;return t?a.createElement(m,r(r({ref:n},p),{},{components:t})):a.createElement(m,r({ref:n},p))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var s=t.length,r=new Array(s);r[0]=u;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,r[1]=i;for(var c=2;c<s;c++)r[c]=t[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},16068:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return d}});var a=t(83117),o=t(80102),s=(t(67294),t(3905)),r=["components"],i={sidebar_position:2,keywords:["Methods","dapp:accounts","dapp:addChain","dapp:sendTransaction","dapp:getBalance"],description:"Methods that Universal Provider support"},l="Methods",c={unversionedId:"wallet/developer-guide/provider-api/method",id:"wallet/developer-guide/provider-api/method",title:"Methods",description:"Methods that Universal Provider support",source:"@site/docs/wallet/developer-guide/provider-api/method.md",sourceDirName:"wallet/developer-guide/provider-api",slug:"/wallet/developer-guide/provider-api/method",permalink:"/wallet/developer-guide/provider-api/method",draft:!1,editUrl:"https://github.com/welldonestudio/welldonestudio.github.io/tree/master/docs/wallet/developer-guide/provider-api/method.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,keywords:["Methods","dapp:accounts","dapp:addChain","dapp:sendTransaction","dapp:getBalance"],description:"Methods that Universal Provider support"},sidebar:"tutorialSidebar",previous:{title:"About Universal Provider",permalink:"/wallet/developer-guide/provider-api/how-we-wrap-for-multichain"},next:{title:"Events",permalink:"/wallet/developer-guide/provider-api/events"}},p={},d=[{value:"1. dapp:accounts",id:"account",level:2},{value:"Params",id:"params",level:3},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:3},{value:"2. dapp:getBalance",id:"getBalance",level:2},{value:"Params",id:"params-1",level:3},{value:"Returns",id:"returns-1",level:3},{value:"Example",id:"example-1",level:3},{value:"3. dapp:addChain",id:"addChain",level:2},{value:"Params",id:"params-2",level:3},{value:"Example",id:"example-2",level:3},{value:"4. dapp:switchChain",id:"switchChain",level:2},{value:"Params",id:"params-3",level:3},{value:"Example",id:"example-3",level:3},{value:"5. dapp:signMessage",id:"signMessage",level:2},{value:"Params",id:"params-4",level:3},{value:"Returns",id:"returns-2",level:3},{value:"Example",id:"example-4",level:3},{value:"6. dapp:signTransaction",id:"signTransaction",level:2},{value:"Params",id:"params-5",level:3},{value:"Returns",id:"returns-3",level:3},{value:"Example",id:"example-5",level:3},{value:"7. dapp:signAndSendTransaction",id:"signAndSendTransaction",level:2},{value:"Params",id:"params-6",level:3},{value:"Returns",id:"returns-4",level:3},{value:"Example",id:"example-6",level:3}],u={toc:d};function h(e){var n=e.components,t=(0,o.Z)(e,r);return(0,s.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"methods"},"Methods"),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("p",{parentName:"admonition"},(0,s.kt)("strong",{parentName:"p"},"Universal Providerr")," has the following methods."),(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#account"},"dapp:accounts")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#getBalance"},"dapp:getBalance")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#addChain"},"dapp:addChain")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#switchChain"},"dapp:switchChain")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#signMessage"},"dapp:signMessage")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#signTransaction"},"dapp:signTransaction")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#signAndSendTransaction"},"dapp:signAndSendTransaction")))),(0,s.kt)("h2",{id:"account"},"1. dapp:accounts"),(0,s.kt)("p",null,"This method is used to request a wallet connection. A website can use this function to request a connection to your wallet, and if the user in the wallet approves the connection, the website can access your account. This approach asks for connections to all chains at the same time. In other words, if you make a request with ",(0,s.kt)("inlineCode",{parentName:"p"},"ethereum")," in ",(0,s.kt)("inlineCode",{parentName:"p"},"chainName"),", you will be granted access to the ",(0,s.kt)("inlineCode",{parentName:"p"},"cosmos")," or other networks. If the webpage is already linked to your wallet, it imports the information from your account without asking for your additional authorization."),(0,s.kt)("h3",{id:"params"},"Params"),(0,s.kt)("p",null,"The method takes the following input argument as a ",(0,s.kt)("inlineCode",{parentName:"p"},"chainName"),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"type CHAIN_NAME = 'celestia' | 'celo' | 'cosmos' | 'ethereum' | 'juno' | 'klaytn' | 'near' | 'neon' | 'solana';\n\nconst account = await window.dapp.request(CHAIN_NAME, { method: \"dapp:accounts\" })\n")),(0,s.kt)("h3",{id:"returns"},"Returns"),(0,s.kt)("p",null,"The method returns the ",(0,s.kt)("inlineCode",{parentName:"p"},"Promise")," object with an address and pubKey value with the given chain account. WELLDONE Wallet currently only supports one address/public key pair per chainID"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{ "ethereum": { "address": "0x....", "pubKey": "0x...." } }\n')),(0,s.kt)("h3",{id:"example"},"Example"),(0,s.kt)("p",null,"This example is to query the account information of Ethereum from your WELLDONE Wallet."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function connect() {\n  const [address, setAddress] = React.useState(null);\n  const [pubKey, setPubKey] = React.useState(null);\n  async function getAccounts() {\n    // request connection to WELLDONE extension\n    const accounts = await window.dapp.request('ethereum', {\n      method: 'dapp:accounts',\n    });\n    // check if accounts exists\n    if (Object.keys(accounts).length !== 0) {\n      setAddress(accounts.ethereum.address);\n      setPubKey(accounts.ethereum.pubKey);\n    }\n  }\n  return (\n    <>\n      <Button onClick={getAccounts}>Connect Wallet</Button>\n      {address && (\n        <ResultTooltip style={{ background: '#3B48DF' }}>\n          <b>address: </b> {address} <br />\n          <b>pubKey: </b> {pubKey}\n        </ResultTooltip>\n      )}\n    </>\n  );\n}\n")),(0,s.kt)("h2",{id:"getBalance"},"2. dapp:getBalance"),(0,s.kt)("p",null,"This method returns the balance of the address."),(0,s.kt)("h3",{id:"params-1"},"Params"),(0,s.kt)("p",null,"This method takes the network and account information to query balance as an argument."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"type CHAIN_NAME = 'celestia' | 'celo' | 'cosmos' | 'ethereum' | 'juno' | 'klaytn' | 'near' | 'neon' | 'solana';\ntype ACCOUNTS = string;\n\nconst response = await window.dapp.request(CHAIN_NAME, {\n  method: 'dapp:getBalance',\n  params: [ACCOUNTS],\n});\n")),(0,s.kt)("h3",{id:"returns-1"},"Returns"),(0,s.kt)("p",null,"The method returns the balance of the address as a string type ",(0,s.kt)("inlineCode",{parentName:"p"},"Promise")," object."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"Promise<string>;\n")),(0,s.kt)("h3",{id:"example-1"},"Example"),(0,s.kt)("p",null,"This example is to query balance from the Ethereum account."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function sendTransaction() {\n  const CHAIN_NAME = 'ethereum';\n  const [accounts, setAccounts] = React.useState(null);\n  const [balance, setBalance] = React.useState(null);\n\n  async function handleGetAccount() {\n    try {\n      const accounts = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:accounts',\n      });\n\n      setAccounts(accounts[CHAIN_NAME].address);\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n  async function handleGetBalance() {\n    try {\n      const response = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:getBalance',\n        params: [accounts],\n      });\n\n      setBalance(response);\n    } catch (error) {\n      console.log(error);\n      alert(`Error Message: ${error.message}\\nError Code: ${error.code}`);\n    }\n  }\n\n  return (\n    <>\n      {accounts ? (\n        <>\n          <Button onClick={handleGetBalance} type=\"button\">\n            Get Balance\n          </Button>\n          <ResultTooltip style={{ background: '#3B48DF' }}>\n            <b>Accounts:</b> {accounts}\n          </ResultTooltip>\n        </>\n      ) : (\n        <>\n          <Button onClick={handleGetAccount} type=\"button\">\n            Get Account\n          </Button>\n          <div>You have to get account first!</div>\n        </>\n      )}\n      {balance && (\n        <ResultTooltip style={{ background: '#F08080' }}>\n          <b>Balance:</b> {balance}\n        </ResultTooltip>\n      )}\n    </>\n  );\n}\n")),(0,s.kt)("h2",{id:"addChain"},"3. dapp:addChain"),(0,s.kt)("p",null,"This method is to be utilized when adding other networks on the WELLDONE wallet. For the earlier release of WELLDONE wallet, it supports ",(0,s.kt)("strong",{parentName:"p"},"Ethereum"),", ",(0,s.kt)("strong",{parentName:"p"},"Cosmos")," and ",(0,s.kt)("strong",{parentName:"p"},"Solana"),". We are planning to support more networks for future releases."),(0,s.kt)("admonition",{type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"WELLDONE Studio operates ",(0,s.kt)("a",{parentName:"p",href:"https://addchain.welldonestudio.io"},"AddChain")," to add networks to your wallet, as well as the directly using ",(0,s.kt)("inlineCode",{parentName:"p"},"dapp:addChain")," method. More details may be found ",(0,s.kt)("a",{parentName:"p",href:"https://docs.welldonestudio.io/add-chain"},"here"),".")),(0,s.kt)("h3",{id:"params-2"},"Params"),(0,s.kt)("p",null,"The method takes ",(0,s.kt)("inlineCode",{parentName:"p"},"chainName")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"chainData")," that designates the network that you are going to add. See more information that you are required to pass on ",(0,s.kt)("inlineCode",{parentName:"p"},"params")," for the following sections."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/add-chain/developer-guide/cosmos"},"For Cosmos-based networks")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/add-chain/developer-guide/ethereum"},"For EVM-compatible networks")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/add-chain/developer-guide/solana"},"For Solana and other networks"))),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"type CHAIN_NAME = 'cosmos' | 'ethereum' | 'solana';\n\nawait window.dapp.request(chainName: ChainName, (\n    method: \"dapp:addChain\",\n    params: [chainData]\n))\n")),(0,s.kt)("h3",{id:"example-2"},"Example"),(0,s.kt)("p",null,"The following is a simple example that adds Ubiq network that is EVM compatible."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function addChain() {\n  // Ethereum based chain parameter Sample - Ubiq\n  const chainData = {\n    chainId: '0x8',\n    chainName: 'Ubiq',\n    rpcUrls: ['https://rpc.octano.dev'],\n    iconUrls: [''],\n    nativeCurrency: {\n      name: 'Ubiq Ether',\n      symbol: 'UBQ',\n      decimals: 18,\n    },\n    blockExplorerUrls: ['https://ubiqscan.io'],\n  };\n\n  async function addChain() {\n    // before adding chain to wallet, you should connect to wallet first\n    const accounts = await window.dapp.request('ethereum', {\n      method: 'dapp:accounts',\n    });\n    // add chain to wallet\n    const response = await window.dapp.request('ethereum', {\n      method: 'dapp:addChain',\n      params: [chainData],\n    });\n  }\n  return <Button onClick={addChain}>Add Chain</Button>;\n}\n")),(0,s.kt)("h2",{id:"switchChain"},"4. dapp:switchChain"),(0,s.kt)("p",null,"This is the method that switch the network in the chain."),(0,s.kt)("h3",{id:"params-3"},"Params"),(0,s.kt)("p",null,"The method takes ",(0,s.kt)("inlineCode",{parentName:"p"},"CHAIN_NAME")," which is the name of the chain to change the network and ",(0,s.kt)("inlineCode",{parentName:"p"},"NETWORK_ID")," of the network."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"type CHAIN_NAME = 'celestia' | 'celo' | 'cosmos' | 'ethereum' | 'juno' | 'klaytn' | 'near' | 'neon' | 'solana';\ntype NETWORK_ID = string;\n\nconst response = await window.dapp.request(CHAIN_NAME, {\n  method: 'dapp:switchChain',\n  params: [NETWORK_ID],\n});\n")),(0,s.kt)("h3",{id:"example-3"},"Example"),(0,s.kt)("p",null,"The following is an example of switching the network to Goerli Testnet in Ethereum."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function switchChain() {\n  async function switchChain() {\n    // before switching chain, you should connect to wallet first\n    const accounts = await window.dapp.request('ethereum', {\n      method: 'dapp:accounts',\n    });\n    // add chain to wallet\n    const response = await window.dapp.request('ethereum', {\n      method: 'dapp:switchChain',\n      params: ['0x5'], // Goerli Testnet network ID\n    });\n  }\n  return <Button onClick={switchChain}>Switch Chain</Button>;\n}\n")),(0,s.kt)("h2",{id:"signMessage"},"5. dapp:signMessage"),(0,s.kt)("p",null,"This is the method for signing messages."),(0,s.kt)("h3",{id:"params-4"},"Params"),(0,s.kt)("p",null,"The method takes the name of the chain ",(0,s.kt)("inlineCode",{parentName:"p"},"CHAIN_NAME")," and the message ",(0,s.kt)("inlineCode",{parentName:"p"},"MESSAGE")," you want to sign as parameters in string type."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"type CHAIN_NAME = 'celestia' | 'celo' | 'cosmos' | 'ethereum' | 'juno' | 'klaytn' | 'near' | 'neon' | 'solana';\ntype MESSAGE = string;\n\nconst response = await window.dapp.request(CHAIN_NAME, {\n  method: 'dapp:signMessage',\n  params: [MESSAGE],\n});\n")),(0,s.kt)("h3",{id:"returns-2"},"Returns"),(0,s.kt)("p",null,"The method returns the ",(0,s.kt)("inlineCode",{parentName:"p"},"Promise")," object array including ",(0,s.kt)("inlineCode",{parentName:"p"},"signature")," value that signed the transaction and the ",(0,s.kt)("inlineCode",{parentName:"p"},"publicKey")," used for signing."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"Promise<[{ signature: string; publicKey: string }]>;\n")),(0,s.kt)("h3",{id:"example-4"},"Example"),(0,s.kt)("p",null,"The following is an example of signing messages in Ethereum. You can verify returned signature using ",(0,s.kt)("inlineCode",{parentName:"p"},"Verify Signature")," feature in ",(0,s.kt)("a",{parentName:"p",href:"https://etherscan.io/verifiedSignatures#"},"Etherscan"),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function signMessage() {\n  const CHAIN_NAME = 'ethereum';\n  const [accounts, setAccounts] = React.useState(null);\n  const [message, setMessage] = React.useState(null);\n  const [isSubmit, setIsSubmit] = React.useState(false);\n  const [signed, setSigned] = React.useState(null);\n\n  async function handleGetAccount() {\n    try {\n      const accounts = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:accounts',\n      });\n      const chainId = await window.dapp.request(CHAIN_NAME, {\n        method: 'eth_chainId',\n        params: [],\n      });\n      if (chainId !== '0x5') {\n        throw new Error('Please change to Goerli Testnet in WELLDONE Wallet');\n      }\n      setAccounts(accounts[CHAIN_NAME]);\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n  async function handleSignMessage() {\n    try {\n      const response = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:signMessage',\n        params: [message],\n      });\n      setSigned(response[0]);\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n\n  const handleChange = (e) => {\n    setMessage(e.target.value);\n  };\n\n  const handleMessage = () => {\n    setIsSubmit(true);\n  };\n\n  return (\n    <>\n      {accounts ? (\n        <>\n          {isSubmit ? (\n            <Button onClick={handleSignMessage} type=\"button\">\n              Sign Message\n            </Button>\n          ) : (\n            <>\n              <Input\n                value={message}\n                onChange={handleChange}\n                placeholder=\"Message to sign\"\n                style={{ marginRight: '8px' }}\n              />\n              <Button onClick={handleMessage} type=\"button\">\n                Set a Message\n              </Button>\n            </>\n          )}\n          <ResultTooltip style={{ background: '#3B48DF' }}>\n            <b>Accounts:</b> {accounts.address}\n          </ResultTooltip>\n        </>\n      ) : (\n        <>\n          <Button onClick={handleGetAccount} type=\"button\">\n            Get Account\n          </Button>\n          <div>You have to get account first!</div>\n        </>\n      )}\n      {signed && (\n        <ResultTooltip style={{ background: '#F08080' }}>\n          <b>Signature:</b> {signed.signature}\n        </ResultTooltip>\n      )}\n    </>\n  );\n}\n")),(0,s.kt)("h2",{id:"signTransaction"},"6. dapp:signTransaction"),(0,s.kt)("p",null,"This is the method for signing transactions."),(0,s.kt)("h3",{id:"params-5"},"Params"),(0,s.kt)("p",null,"The method takes the name of the chain ",(0,s.kt)("inlineCode",{parentName:"p"},"CHAIN_NAME")," and the transaction ",(0,s.kt)("inlineCode",{parentName:"p"},"HEX_STRING_TX_DATA")," you want to sign as parameters in string type. Because a transaction format differs by the network, WELLDONE Wallet takes the input transaction in HEX string type."),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("p",{parentName:"admonition"},"You can put the transaction objects as they are in EVM networks.")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"type CHAIN_NAME = 'celestia' | 'celo' | 'cosmos' | 'ethereum' | 'juno' | 'klaytn' | 'near' | 'neon' | 'solana';\ntype HEX_STRING_TX_DATA = string;\n\nconst response = await window.dapp.request(CHAIN_NAME, {\n  method: 'dapp:signTransaction',\n  params: [HEX_STRING_TX_DATA],\n});\n")),(0,s.kt)("h3",{id:"returns-3"},"Returns"),(0,s.kt)("p",null,"The method returns the ",(0,s.kt)("inlineCode",{parentName:"p"},"Promise")," object array including ",(0,s.kt)("inlineCode",{parentName:"p"},"signature")," value that signed the transaction and the ",(0,s.kt)("inlineCode",{parentName:"p"},"publicKey")," used for signing."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"Promise<[{ signature: string; publicKey: string }]>;\n")),(0,s.kt)("h3",{id:"example-5"},"Example"),(0,s.kt)("p",null,"The following is an example of a signing a transaction in Ethereum."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function signTransaction() {\n  const CHAIN_NAME = 'ethereum';\n  const [accounts, setAccounts] = React.useState(null);\n  const [message, setMessage] = React.useState(null);\n  const [isSubmit, setIsSubmit] = React.useState(false);\n  const [signed, setSigned] = React.useState(null);\n\n  async function handleGetAccount() {\n    try {\n      const accounts = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:accounts',\n      });\n      const chainId = await window.dapp.request(CHAIN_NAME, {\n        method: 'eth_chainId',\n        params: [],\n      });\n      if (chainId !== '0x5') {\n        throw new Error('Please change to Goerli Testnet in WELLDONE Wallet');\n      }\n      setAccounts(accounts[CHAIN_NAME]);\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n  async function handleSignTransaction() {\n    try {\n      const tx = {\n        from: accounts.address,\n        to: '0x08505F42D5666225d5d73B842dAdB87CCA44d1AE', //allthatnode\n        gas: '0x76c0',\n        gasPrice: '0x9184e72a000',\n        value: '0x00',\n        data: '0x6057361d000000000000000000000000000000000000000000000000000000000008a198',\n      };\n      const response = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:signTransaction',\n        params: [tx],\n      });\n      setSigned(response[0]);\n    } catch (error) {\n      console.log(error);\n      alert(error.message);\n    }\n  }\n\n  return (\n    <>\n      {accounts ? (\n        <>\n          <Button onClick={handleSignTransaction} type=\"button\">\n            Sign Transaction\n          </Button>\n          <ResultTooltip style={{ background: '#3B48DF' }}>\n            <b>Accounts:</b> {accounts.address}\n          </ResultTooltip>\n        </>\n      ) : (\n        <>\n          <Button onClick={handleGetAccount} type=\"button\">\n            Get Account\n          </Button>\n          <div>You have to get account first!</div>\n        </>\n      )}\n      {signed && (\n        <ResultTooltip style={{ background: '#F08080' }}>\n          <b>Signature:</b> {signed.signature}\n        </ResultTooltip>\n      )}\n    </>\n  );\n}\n")),(0,s.kt)("h2",{id:"signAndSendTransaction"},"7. dapp:signAndSendTransaction"),(0,s.kt)("p",null,"This is the method that signs and sends the transaction. From simple token transfer to contract deployment and change the state of the blockchain, this method can be used. You can send multiple transactions as well as one transaction.\nThe WELLDONE Wallet finds and imports networks associated with that wallet address. Before submitting a transaction, you should evaluate whether to transmit it to the mainnet or the testnet."),(0,s.kt)("h3",{id:"params-6"},"Params"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"CHAIN NAME")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"HEX_STRING_TX_DATA")," are two parameters. ",(0,s.kt)("inlineCode",{parentName:"p"},"CHAIN_NAME")," is the name of the network to which you wish to add, and ",(0,s.kt)("inlineCode",{parentName:"p"},"HEX_STRING_TX_DATA")," is the value of converting the transaction to a HEX string type. Because a transaction format differs by networks, WELLDONE Wallet executes the transaction by taking the input argument in hex string type then translate it to compatible to the targeted network."),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("p",{parentName:"admonition"},"You can put the transaction objects as they are in EVM networks.")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"type CHAIN_NAME = 'celestia' | 'celo' | 'cosmos' | 'ethereum' | 'juno' | 'klaytn' | 'near' | 'neon' | 'solana';\ntype HEX_STRING_TX_DATA = 'string';\n\nconst response = await window.dapp.request(CHAIN_NAME, {\n  method: 'dapp:signAndSendTransaction',\n  params: [HEX_STRING_TX_DATA],\n});\n")),(0,s.kt)("p",null,"The following sections for each network provide details of what needs to be communicated to the ",(0,s.kt)("inlineCode",{parentName:"p"},"HEX_STRING_TX_DATA"),"."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/wallet/developer-guide/sending-transaction/ethereum"},"Ethereum")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/wallet/developer-guide/sending-transaction/cosmos"},"Cosmos")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/wallet/developer-guide/sending-transaction/near"},"NEAR")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/wallet/developer-guide/sending-transaction/klaytn"},"Klaytn")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docs.welldonestudio.io/wallet/developer-guide/sending-transaction/celo"},"Celo"))),(0,s.kt)("h3",{id:"returns-4"},"Returns"),(0,s.kt)("p",null,"This method returns the transaction hash value as a ",(0,s.kt)("inlineCode",{parentName:"p"},"Promise")," object of type string because you can send multiple transactions as well as one transaction."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"Promise<string[]>;\n")),(0,s.kt)("h3",{id:"example-6"},"Example"),(0,s.kt)("p",null,"The following is an example of sending a transaction on Ethereum network. A faucet is required to transmit a transaction. You can request faucet through the FAUCET tab in the wallet."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function sendTransaction() {\n  const CHAIN_NAME = 'ethereum';\n  const [accounts, setAccounts] = React.useState(null);\n  const [txHash, setTxHash] = React.useState(null);\n\n  async function handleGetAccount() {\n    try {\n      const accounts = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:accounts',\n      });\n      const chainId = await window.dapp.request(CHAIN_NAME, {\n        method: 'eth_chainId',\n        params: [],\n      });\n      if (chainId !== '0x5') {\n        throw new Error('Please change to Goerli Testnet in WELLDONE Wallet');\n      }\n      setAccounts(accounts[CHAIN_NAME].address);\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n  async function handleSendTransaction() {\n    try {\n      const tx = {\n        from: accounts,\n        to: '0x08505F42D5666225d5d73B842dAdB87CCA44d1AE', //allthatnode\n        gas: '0x76c0',\n        gasPrice: '0x9184e72a000',\n        value: '0x00',\n        data: '0x6057361d000000000000000000000000000000000000000000000000000000000008a198',\n      };\n      const response = await window.dapp.request(CHAIN_NAME, {\n        method: 'dapp:signAndSendTransaction',\n        params: [tx],\n      });\n      const txHash = response[0];\n\n      setTxHash(txHash);\n    } catch (error) {\n      console.log(error);\n      alert(`Error Message: ${error.message}\\nError Code: ${error.code}`);\n    }\n  }\n\n  return (\n    <>\n      {accounts ? (\n        <>\n          <Button onClick={handleSendTransaction} type=\"button\">\n            Send a Transaction\n          </Button>\n          <ResultTooltip style={{ background: '#3B48DF' }}>\n            <b>Accounts:</b> {accounts}\n          </ResultTooltip>\n        </>\n      ) : (\n        <>\n          <Button onClick={handleGetAccount} type=\"button\">\n            Get Account\n          </Button>\n          <div>You have to get account first!</div>\n        </>\n      )}\n      {txHash && (\n        <ResultTooltip style={{ background: '#F08080' }}>\n          <b>Transaction Hash:</b> {txHash}\n        </ResultTooltip>\n      )}\n    </>\n  );\n}\n")))}h.isMDXComponent=!0}}]);