"use strict";(self.webpackChunkwelldone_docs=self.webpackChunkwelldone_docs||[]).push([[3083],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),p=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return o.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,h=d["".concat(c,".").concat(m)]||d[m]||u[m]||r;return n?o.createElement(h,i(i({ref:t},s),{},{components:n})):o.createElement(h,i({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1316:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u}});var o=n(3117),a=n(102),r=(n(7294),n(3905)),i=["components"],l={sidebar_position:1,description:"Deploy and Run Near Smart Contract",keywords:["Deploy and Run","Near","Smart Contract"]},c="Near",p={unversionedId:"code/deploy-and-run/near",id:"code/deploy-and-run/near",title:"Near",description:"Deploy and Run Near Smart Contract",source:"@site/docs/code/deploy-and-run/near.md",sourceDirName:"code/deploy-and-run",slug:"/code/deploy-and-run/near",permalink:"/code/deploy-and-run/near",draft:!1,editUrl:"https://github.com/welldonestudio/welldonestudio.github.io/tree/master/docs/code/deploy-and-run/near.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"Deploy and Run Near Smart Contract",keywords:["Deploy and Run","Near","Smart Contract"]},sidebar:"tutorialSidebar",previous:{title:"Deploy and Run",permalink:"/code/deploy-and-run"},next:{title:"Celo",permalink:"/code/deploy-and-run/celo"}},s={},u=[{value:"Choose a wallet",id:"choose-a-wallet",level:2},{value:"Connect",id:"connect",level:2},{value:"Create Project",id:"create-project",level:2},{value:"1. Writing Contracts in Rust",id:"1-writing-contracts-in-rust",level:3},{value:"2. Writing Contracts in AssemblyScript",id:"2-writing-contracts-in-assemblyscript",level:3},{value:"Compile",id:"compile",level:2},{value:"1. NEAR Compiler for Rust",id:"1-near-compiler-for-rust",level:3},{value:"2. Raen Compiler for Rust | Stay Tuned :D",id:"2-raen-compiler-for-rust--stay-tuned-d",level:3},{value:"3. AssemblyScript Compile (for AssemblyScript)",id:"3-assemblyscript-compile-for-assemblyscript",level:3},{value:"4. How to Compile",id:"4-how-to-compile",level:3},{value:"Deploy",id:"deploy",level:2},{value:"View and Call function",id:"view-and-call-function",level:2}],d={toc:u};function m(e){var t=e.components,l=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"near"},"Near"),(0,r.kt)("h2",{id:"choose-a-wallet"},"Choose a wallet"),(0,r.kt)("p",null,"You must first install ",(0,r.kt)("inlineCode",{parentName:"p"},"WELLDONE Wallet")," before you can utilize ",(0,r.kt)("inlineCode",{parentName:"p"},"WELLDONE Code"),"."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://chrome.google.com/webstore/detail/welldone-wallet/bmkakpenjmcpfhhjadflneinmhboecjf?hl=en"},"\u27a1\ufe0f Installation of WELLDONE Wallet")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Select Wallet",src:n(5248).Z,title:"Select Wallet",width:"1354",height:"970"})),(0,r.kt)("p",null,"WELLDONE CODE will soon support NEAR Web Wallet."),(0,r.kt)("h2",{id:"connect"},"Connect"),(0,r.kt)("p",null,"Create a NEAR account in ",(0,r.kt)("inlineCode",{parentName:"p"},"WELLDONE wallet")," before connecting to the network."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Connect Wallet",src:n(5662).Z,title:"Connect Wallet",width:"1724",height:"1686"})),(0,r.kt)("h2",{id:"create-project"},"Create Project"),(0,r.kt)("p",null,"Create a basic example contract code written in AssemblyScript or Rust. By clicking the ",(0,r.kt)("strong",{parentName:"p"},"Create Template")," button, you can create a sample contract. More templates may be found at ",(0,r.kt)("a",{parentName:"p",href:"https://examples.near.org/"},"NEAR Samples"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Template Tree",src:n(8305).Z,title:"Template Tree",width:"2000",height:"1448"})),(0,r.kt)("p",null,"If you wish to start a new project, click the ",(0,r.kt)("strong",{parentName:"p"},"New Project")," button."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"However, for the remix plugin to build and deploy the contract, it must be built within the directory ",(0,r.kt)("inlineCode",{parentName:"p"},"near/"),". If you start a new project, the structure should look like the following.")),(0,r.kt)("h3",{id:"1-writing-contracts-in-rust"},"1. Writing Contracts in Rust"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"near/<YOUR_PROJECT_NAME>",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"near\n\u2514\u2500\u2500 <YOUR_PROJECT_NAME>\n    \u251c\u2500\u2500 Cargo.toml\n    \u2514\u2500\u2500 src\n        \u2514\u2500\u2500 lib.rs\n")))),(0,r.kt)("h3",{id:"2-writing-contracts-in-assemblyscript"},"2. Writing Contracts in AssemblyScript"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"near/<YOUR_PROJECT_NAME>",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"near\n\u2514\u2500\u2500 <YOUR_PROJECT_NAME>\n    \u251c\u2500\u2500 as_types.d.ts\n    \u251c\u2500\u2500 index.ts\n    \u2514\u2500\u2500 tsconfig.json\n")))),(0,r.kt)("h2",{id:"compile"},"Compile"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"WELLDONE Code provides three choices for compilation - We now only support the AMD compilation server, however, we will shortly add support for the ARM compilation server.")),(0,r.kt)("h3",{id:"1-near-compiler-for-rust"},"1. NEAR Compiler for Rust"),(0,r.kt)("p",null,"The option to utilize the default compiler of NEAR, which provides a stable compilation. Meanwhile, it is cumbersome to explicitly input method arguments during the testing of contracts."),(0,r.kt)("p",null,"WELLDONE Code is planning to provide the Raen Compile option to overcome this problem."),(0,r.kt)("h3",{id:"2-raen-compiler-for-rust--stay-tuned-d"},"2. Raen Compiler for Rust | Stay Tuned :D"),(0,r.kt)("p",null,"Another option to compile is using ",(0,r.kt)("inlineCode",{parentName:"p"},"raen build"),", which is in an experimental stage, it occasionally fails to function properly. However, if this option is used, it is not required to input method parameters during the testing of contracts. You can also extract contract method information in JSON format."),(0,r.kt)("p",null,"More information can be found at ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/raendev/raen"},"GitHub Raen"),"."),(0,r.kt)("h3",{id:"3-assemblyscript-compile-for-assemblyscript"},"3. AssemblyScript Compile (for AssemblyScript)"),(0,r.kt)("p",null,"Compile the contract created with AssemblyScript. The compiler provides a stable compiling."),(0,r.kt)("h3",{id:"4-how-to-compile"},"4. How to Compile"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Select the project you want to compile in the ",(0,r.kt)("strong",{parentName:"li"},"PROJECT TO COMPILE")," section."),(0,r.kt)("li",{parentName:"ul"},"Select a compilation method."),(0,r.kt)("li",{parentName:"ul"},"Click the ",(0,r.kt)("strong",{parentName:"li"},"Compile")," button."),(0,r.kt)("li",{parentName:"ul"},"When the compilation is complete, a wasm file is returned.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Project Compile",src:n(2005).Z,title:"Project Compile",width:"362",height:"627"})),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If you need to revise the contract, delete the ",(0,r.kt)("inlineCode",{parentName:"p"},"near/out")," directory and re-compile the contract.")),(0,r.kt)("h2",{id:"deploy"},"Deploy"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The WELLDONE Wallet automatically finds and imports networks associated with your wallet address. As a result, before deploying, you should choose whether you want to send a transaction to mainnet or testnet.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If you have compiled contract code, input the value in ",(0,r.kt)("inlineCode",{parentName:"li"},"receive_id")," then click the ",(0,r.kt)("inlineCode",{parentName:"li"},"Deploy")," button."),(0,r.kt)("li",{parentName:"ul"},"Sign your transaction using your wallet.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Deploy",src:n(2139).Z,title:"Deploy",width:"1546",height:"1658"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You can run methods once the contract has been deployed.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Deployed Contract",src:n(1194).Z,title:"Deployed Contract",width:"594",height:"1084"})),(0,r.kt)("h2",{id:"view-and-call-function"},"View and Call function"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The WELLDONE Code is planning to support ",(0,r.kt)("inlineCode",{parentName:"p"},"raen build")," for NEAR Contract compilation by default. You may quickly test the method with the ",(0,r.kt)("inlineCode",{parentName:"p"},"view")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"call")," option, without entering additional arguments. If a contract is built in a way other than ",(0,r.kt)("inlineCode",{parentName:"p"},"raen build")," that is loaded into ",(0,r.kt)("inlineCode",{parentName:"p"},"At Address"),", you are expected to enter the method parameters separately.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"To invoke an existing contract, provide a contract ID inside the ",(0,r.kt)("inlineCode",{parentName:"li"},"At Address")," field."),(0,r.kt)("li",{parentName:"ul"},"Choose the method to invoke."),(0,r.kt)("li",{parentName:"ul"},"As needed, add parameters."),(0,r.kt)("li",{parentName:"ul"},"The 'View' or 'Call' commands read the value or send the transaction.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"View Function",src:n(5606).Z,title:"View Function",width:"724",height:"1686"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Function Call",src:n(7996).Z,title:"Function Call",width:"1540",height:"1686"})))}m.isMDXComponent=!0},5662:function(e,t,n){t.Z=n.p+"assets/images/connect-wallet-7156bb7814f9012f63134b2d9cb1b513.png"},2139:function(e,t,n){t.Z=n.p+"assets/images/deploy-7063dae121cf1c68dc2c399de97f5673.png"},1194:function(e,t,n){t.Z=n.p+"assets/images/deployed-contract-08ab302ea78bd8bed75e6f1e8310f26b.png"},7996:function(e,t,n){t.Z=n.p+"assets/images/function-call-89370f39b6e2e8129077ebf160778507.png"},2005:function(e,t,n){t.Z=n.p+"assets/images/project-compile-05d2a505692840e5a75675fa066bd9aa.png"},5248:function(e,t,n){t.Z=n.p+"assets/images/select-wallet-bc6a727b80fedced25d62154ce5b092d.png"},8305:function(e,t,n){t.Z=n.p+"assets/images/template-tree-fae5cf910cbdffafde1b3aa9d3f59853.png"},5606:function(e,t,n){t.Z=n.p+"assets/images/view-function-382c7774304fa9ed11a6127a7152b459.png"}}]);